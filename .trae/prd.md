# 吃树（MVP Demo）PRD 文档

## 1. 产品概述
- 载体：Web 页面（SPA）
- 核心特性：无登录、纯本地存储；语音输入为主，手动为辅；聚合趋势+详情下钻
- 目标：用户能快速记录健康数据，一眼看趋势，支持编辑/删除/补录

## 2. 目标用户与场景
- 用户类型1：有健身习惯、关注体重与睡眠的上班族
- 用户类型2：有慢性病需记录血糖/血压的用户
- 使用频率：
  - 类型1：起床称重/回顾睡眠；健身后记录运动
  - 类型2：每次测血糖/血压后记录数值

## 3. 产品目标
- 快捷记录：用户一句话描述健康数据 → 解析 → 用户确认 → 一次性写入本地
- 一眼看趋势：首页聚合关键数据与趋势；详情页展示单一指标的完整趋势与历史
- AI识别：语音转文本与健康数据结构化（MVP为模拟实现）

## 4. MVP 范围
- 页面结构：1个首页（聚合） + 4个详情页（体重/运动/血糖/血压）
- 数据闭环：记录、确认、存储（本地）、展示（图表/列表）、编辑、删除、补录
- 存储方案：`localStorage`（MVP可接受数据不跨设备同步）

## 5. 信息架构
- 首页 `/`：
  - 顶部：今日关键数据卡片（体重、睡眠、最近血压、最近血糖、今日运动）
  - 中间：近7日聚合趋势图
  - 底部：历史记录（按天折叠，默认显示近7日，支持查看更多）
  - 固定：底部麦克风入口（长按/点击进入语音模式）
- 详情页：
  - `/weight` 体重：大图表（体重趋势）+ 体重历史列表（编辑/删除）
  - `/exercise` 运动：统计概览 + 历史列表（编辑/删除）
  - `/blood-pressure` 血压：双图（高压/低压）+ 历史列表（编辑/删除）
  - `/blood-sugar` 血糖：趋势图 + 历史列表（编辑/删除）
- 导航栏：固定底部导航（首页、体重、运动、血糖、血压）

## 6. 核心流程
- 语音记录与确认：
  1. 长按麦克风录音
  2. 语音转文本（模拟）
  3. 文本解析为结构化 JSON（体重/血压/血糖/运动/睡眠）
  4. 弹窗确认（可修改数值/时间，删除某条）
  5. 确认提交一次性写入本地
- 手动记录：
  - 历史记录区提供“新增记录”入口
  - 选择类型并填表单，保存到本地
- 历史记录：
  - 按天折叠显示，当日概要，展开后每条可编辑/删除

## 7. 数据模型
- 体重：`{ id, value(kg), timestamp }`
- 血糖：`{ id, value(mmol/L), timestamp }`
- 血压：`{ id, systolic, diastolic, timestamp }`
- 运动：`{ id, type, duration(min), timestamp }`
- 睡眠：`{ id, bedTime, wakeTime, duration(min), quality, timestamp }`
- 统一健康记录：`{ id, type, data, timestamp }`

## 8. 非功能性需求
- 响应式：移动端优先，兼容桌面
- 易用性：核心操作路径最短（录音→确认→入库）
- 可扩展：服务层与类型定义可替换/扩展（如接入真实AI、图表库）

## 9. 约束与非目标
- 不提供登录/云同步（MVP）
- AI识别为模拟实现；对话理解不做复杂意图管理
- 图表为简易版（非专业可视化库）

## 10. 验收标准（关键用例）
- 录音后识别出至少一种健康数据 → 弹窗正确展示 → 可修改值与时间 → 确认后数据写入并出现在首页与对应详情页
- 历史记录按天折叠，展开后每条支持编辑与删除
- 手动记录入口可创建五类数据并正确入库与展示

## 11. 成功指标（MVP）
- 单次会话内：完成一次语音记录并入库
- 7日留存：用户在7日内至少查看详情页一次
- 数据闭环完整率：记录→展示→编辑/删除成功率 ≥ 95%