# 个人健康管理工具 (MVP 需求文档 - Demo 演示版)

## 1. 产品概述

这是一个以 **Web 页面** 为载体的个人健康管理工具 **MVP Demo**。名称我想叫做"吃树"

**核心特性：**
* **无登录，纯本地体验**：为快速演示，V1 采用无登录设计，数据**仅存储在浏览器的本地存储 (Local Storage) 中**。
* **功能聚焦**：100% 聚焦于 **“语音输入健康指标”** 的核心体验。

**重点围绕：**
* **语音输入为主**，手动输入为辅；
* 汇总 **身体指标 + 运动 + 睡眠**；
* 采用 **“1+4” 页面结构**：
    * **1 个首页**：提供 “一眼就能看懂”的健康概览 和聚合趋势图；
    * **4 个详情页**：通过导航栏 (Navi) 下钻到 **体重 / 运动 / 血糖 / 血压** 的专属页面。

## 2. 产品目标

1.  **快捷记录 (MVP 核心)**
    用户说几句话 → AI 自动识别并结构化成健康数据 → 用户确认 → **一次性写入 Local Storage**。

2.  **一眼看趋势 (聚合 + 下钻)**
    * **首页**：打开就能看到所有关键数字和聚合趋势。
    * **详情页**：可导航至单独的指标页面，查看该指标的完整趋势。

3.  **AI 识别**
    * AI 将语音转成结构化 JSON（仅健康数据）。

## 3. 目标用户 & 使用场景

**3.1 目标用户**
* **用户类型 1**：有健身习惯、在意体重和睡眠的上班族。
* **用户类型 2**：有慢性病，需要记录血糖 / 血压的人。

**3.2 使用频率 / 场景**
* **类型 1**：
    * 早上起床：称重 / 回顾睡眠 → 打开网站语音记录一次；
    * 健身后：记录当天运动 → 语音记录一次。
* **类型 2**：
    * 每次测完血糖 / 血压后 → 打开网站记录相应数值。

## 4. 核心功能 (MVP)

### 4.1 数据存储 (本地化)

* **无登录**：MVP 版本不设用户系统。
* **本地存储 (Local Storage)**：所有用户产生的健康数据（体重、血压、运动等）和历史记录，**全部存储在用户当前浏览器的 `localStorage` 中**。
* **数据归属**：
    * 好处：开发速度极快，演示零摩擦。
    * 代价：数据无法跨设备同步，清除浏览器缓存将导致数据丢失（MVP 阶段可接受）。

### 4.2 首次使用 (零摩擦)

* **直达首页**：用户打开网址**直接进入首页**，可立即开始使用核心功能（语音记录）。

### 4.3 首页布局 (聚合概览)

**4.3.1 页面底部：语音入口 (核心入口)**

* 页面底部有一个 **非常显眼的麦风区域**。
* **交互简化**：
    * “**长按**”或“**点击**”即进入唯一的“**健康记录语音模式**”。
* 首次使用时，可有悬浮引导说明“请按住这里，告诉我你的健康数据...”。

**4.3.2 页面顶部：今日关键数据**

* 以卡片模块展示以下「今天 / 最近一次」的关键指标：
    * 今日体重
    * 今日睡眠时长
    * 最近一次血压
    * 最近一次血糖
    * 今日运动时长

**4.3.3 中间区域：核心健康趋势图**

* 展示聚合的、主要的趋势图（例如 7 天 / 30 天）：
    * 体重趋势（折线图）
    * 睡眠趋势
    * 运动时间统计
    * 血糖 / 血压趋势

**4.3.4 滑动提示 & 历史记录入口**

* 在趋势图下方提示：「**往下滑动查看所有历史记录**」。
* 下滑即进入「历史记录区」。

### 4.4 历史记录区 (按天折叠)

* 位于首页底部，用于展示**所有类型**的记录。
* 目标：以「某一天」为单位查看当天所有记录，并支持编辑 / 删除 / 补录。
* **展示形式**：
    * 列表按日期由近到远排序。
    * 每一天是一个「日期卡片」，折叠显示当天概要。
    * 点击可展开，每行记录支持 **编辑 / 删除**。
    * 支持**新增补充**（即手动记录的入口之一）。
* **加载策略**：
    * 默认加载（例如 7 天）。
    * 底部提供「查看更早的记录 ›」。

### 4.5 语音记录：健康模式 (MVP 灵魂)

* **目标**：一句话中可以同时包含多种健康数据，系统一次性识别并写入。
* **用户故事示例**：
    「我昨天晚上 12 点半睡的，早上 7 点醒的，刚刚测了一下体重是 80kg，血压高压是 130，低压是 80，感觉昨晚睡得挺好的。」
* **系统处理流程**：
    1.  语音录制完成 → 语音转文字；
    2.  文本送入大模型 → 提取 **结构化 JSON**；
    3.  后端根据 JSON 判断合法性。
* **弹窗确认 (关键交互)**：
    * 识别完成后，弹出「**确认记录弹窗**」，按分类分 Section。
    * 用户可以修改数值、修改时间、或删除单条解析结果。
    * 点击「**确认 / 提交**」，系统一次性将所有数据写入 **Local Storage**。

### 4.6 手动记录入口 (兜底)

* 虽然语音是主打，但 v1 必须有手动兜底，用于“补录”和“修正”。
* **入口**：例如在“历史记录区”的每一天卡片下，提供一个「新增记录」按钮。
* 点击后，允许用户选择类型（体重、睡眠、运动等）并手动填表单。
* 所有已存在记录均支持“编辑”和“删除”。

### 4.7 导航与详情页 (Navi Pages)

**4.7.1 导航栏 (Navigation Bar)**
* 在页面顶部或底部，提供一个固定的导航栏。
* 至少包含：
    * [首页]
    * [体重]
    * [运动]
    * [血糖]
    * [血压]

**4.7.2 指标详情页 (Detail Pages)**
* 为 [体重]、[运动]、[血糖]、[血压] 分别创建专属的详情页（可复用同一套页面模板）。
* **页面内容**：
    1.  **顶部：该指标的“大图表”**
        * 例如：[体重页] 顶部是一个占据主要视窗的、详细的体重趋势图。
    2.  **底部：该指标的“历史列表”**
        * 例如：[体重页] 下方是一个**只包含**体重记录的历史列表（不再按天聚合，而是纯粹的体重记录列表）。
        * 列表同样支持“编辑”和“删除”。

## 5. 数据模型草案 (V1)

*(所有数据存储在 Local Storage)*

**5.1 身体指标类**
* **体重**：数值 (kg)；记录时间。
* **血糖**：数值；单位；记录时间。
* **血压**：高压数值；低压数值；记录时间。

**5.2 运动类**
* 运动类型；运动时长 (分钟)。

**5.3 睡眠 / 作息类**
* 入睡时间；起床时间；总睡眠时长；主观等级（枚举：还可以 / 睡得不错 / 质量不太行）。

## 6. MVP 核心范围

* **Web 端**：纯本地存储 (Local Storage) 版本。
* **页面结构**：**1 个首页（聚合）+ 4 个详情页（下钻）**。
* **核心交互**：**“健康指标”的 AI 语音识别** 及 **手动兜底**。
* **数据闭环**：数据可 记录、确认、存储(本地)、展示(图表/列表)、编辑、删除。

## 7. 关键设计原则 (MVP)

1.  **语音入口是产品的“灵魂”**
    * 底部的麦克风是核心入口，交互必须极致简洁。
2.  **系统可以犯错，但用户要能轻松修正**
    * AI 识别结果必须弹窗确认；历史记录中可编辑 / 删除 / 补录。
3.  **零摩擦，本地优先**
    * 无登录、无引导。用户打开即用，数据存在本地，优先保证核心功能闭环。
4.  **首页聚合，详情下钻**
    * 首页提供“今天 + 最近”的聚合概览；Navi 导航提供到各垂直指标的“下钻”路径。